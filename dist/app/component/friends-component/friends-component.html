
<div class="content">
  <div>
    <div (click)="onClose()" class="close">&times;</div>
    <users-container>
      <div class="row">
        <h4>Друзья</h4>
        <table>
          <tbody>
            <tr *ngFor="let user of friends; let i = index">
              <td><img [src]="user.image || 'src/img/no-avatar.gif' "/></td>
              <td>{{user.name}}</td>
              <td>
                <div (click)="onDelFriend(user)" class="invite">Удалить</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="invites.length" class="row">
        <h4>Запросы</h4>
        <table>
          <tbody>
            <tr *ngFor="let user of invites; let i = index">
              <td><img [src]="user.image || 'src/img/no-avatar.gif' "/></td>
              <td>{{user.name}}</td>
              <td>
                <div (click)="onAccept(user)" class="invite accept">Принять</div>
                <div (click)="onReject(user)" class="invite reject">Отклонить</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="row">
        <div class="border-hidden">
          <div>
            <button style="float: right" (click)="getAllUsers($event)">Просмотреть всех участников</button>
          </div>
        </div>
        <div class="border-hidden"></div>
      </div>
      <div *ngIf="allUsers.length" class="row">
        <h4>Все участники</h4>
        <table>
          <tbody>
            <tr *ngFor="let user of allUsers; let i = index">
              <td><img [src]="user.image || 'src/img/no-avatar.gif' "/></td>
              <td>{{user.name}}</td>
              <td>
                <div *ngIf="!isFriend(user)" class="invite">
                  <template [ngIf]="!isInviteActive(user)">
                    <div (click)="sendInvite(user)">Отправть запрос</div>
                  </template>
                  <template [ngIf]="isInviteActive(user)">
                    <div (click)="onCancelInvite(user)">Запрос отправлен (отменить)</div>
                  </template>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </users-container>
  </div>
</div>